<!DOCTYPE html>
<html>

	<link rel="stylesheet" type="text/css" href="style.css">
	<style>
		a {
			color:rgb(176, 255, 176);
		}
		h1, h3{
			color:rgb(16, 17, 16);
}
	</style>

	<span><a href="http://localhost:3000/index.html">Index</a></span>

	<head>
		<title>Pokemon</title>
		<link rel="stylesheet" type="text/css" href="style.css">
		<Style>
        
        h1
        {
            font-size: 80px;
            -webkit-text-stroke:  1px rgb(7, 146, 170);
        }
        h2, h3 
        {
            color: rgb(7, 146, 170)
        }

		img 
        {
			width: 100px;
            height: 50px;
		}
        
	</Style>
	</head>

	<body onload="dropdown()">
		<body style="background-image: url('https://images.unsplash.com/photo-1585314062604-1a357de8b000?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8NHx8fGVufDB8fHx8&w=1000&q=80'); background-size: cover">

		<h1 style="color:rgb(0, 11, 46);position:relative;top:-100px"><b><u><center>Pokemon</center></u></b></h1>

        <h3 style="position:relative;top:-100px">Pick a pokemon to add to your team</h3>
		<h3></h3>

        <select name="pokemon" id="pokemon1">	</select> <div id = "pokemon1Type" style="position:relative; right:-170px; top:-134px"></div>
		
		<select name="pokemon" id="pokemon2">	</select> <div id = "pokemon2Type" style="position:relative; right:-170px; top:-134px"></div>
	
		<select name="pokemon" id="pokemon3">	</select> <div id = "pokemon3Type" style="position:relative; right:-170px; top:-134px"></div>

		<select name="pokemon" id="pokemon4">	</select> <div id = "pokemon4Type" style="position:relative; right:-170px; top:-134px"></div>

		<select name="pokemon" id="pokemon5">	</select> <div id = "pokemon5Type" style="position:relative; right:-170px; top:-134px"></div>

		<select name="pokemon" id="pokemon6">	</select> <div id = "pokemon6Type" style="position:relative; right:-170px; top:-134px"></div>

		<button type='button' style="position:relative; right:-300px; top:-150px" onclick="addPokemon()">Add</button>

	

	
	
	<script>	
/////////////////////////////////////////////////////////////////////////////////////////////////////
	function makeArmy()
	{
		var memeURL = document.getElementById("Input").value;
		console.log(memeURL)

		var xhr = new XMLHttpRequest();

		xhr.open("GET", "http://localhost:3000/addMeme?memeURL=" + memeURL)

		xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded")
		xhr.onreadystatechange = () =>{
			console.log(xhr.responseText)
		} 
		xhr.send()

		//document.getElementById('Input').value = ''
	}
/////////////////////////////////////////////////////////////////////////////////////////////////////
function dropdown()
	{
		var xhr = new XMLHttpRequest();

		xhr.open("GET", "http://localhost:3000/getPokemonNames", true)

		xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded")
		
		xhr.onreadystatechange = () => 
		{
		
			if(XMLHttpRequest.DONE && xhr.status == 200)
			{
				console.log(xhr.responseText)

				var data = JSON.parse(xhr.responseText)
				console.log(data)
				var option = "";

					for(r in data.recordset)
					{
						//console.log('loop: ' + r)
						//table += "<td>" + data.recordset[r].numStars + "</td>";
						option += "<option value = '" + data.recordset[r].pokedexName + "''>" + data.recordset[r].pokedexName + "</option>"
					}
				var grassType = "https://s3.amazonaws.com/kandipatternspatterns/misc/15338_pokemon_grass_type.png";
				var fireType = "https://s3.amazonaws.com/kandipatternspatterns/misc/15327_Pokemon_Fire_Type.png"
				var waterType = "https://s3.amazonaws.com/kandipatternspatterns/misc/15324_Pokemon_Water_Type.png"
				var flyingType = "https://s3.amazonaws.com/kandipatternspatterns/misc/15329_Pokemon_Flying_Type.png"
				var poisonType = "https://s3.amazonaws.com/kandipatternspatterns/misc/15330_Pokemon_Poison_Energy.png"
				var groundType = "https://s3.amazonaws.com/kandipatternspatterns/misc/15323_Pokemon_Ground_Type.png"

					document.getElementById("pokemon1").innerHTML = option;
					document.getElementById("pokemon1Type").innerHTML = "<img src = '" + grassType + "''>";

					document.getElementById("pokemon2").innerHTML = option;
					document.getElementById("pokemon2Type").innerHTML = "<img src = '" + fireType + "''>";

					document.getElementById("pokemon3").innerHTML = option;
					document.getElementById("pokemon3Type").innerHTML = "<img src = '" + waterType + "''>";

					document.getElementById("pokemon4").innerHTML = option;
					document.getElementById("pokemon4Type").innerHTML = "<img src = '" + flyingType + "''>";

					document.getElementById("pokemon5").innerHTML = option;
					document.getElementById("pokemon5Type").innerHTML = "<img src = '" + poisonType + "''>";

					document.getElementById("pokemon6").innerHTML = option;
					document.getElementById("pokemon6Type").innerHTML = "<img src = '" + groundType + "''>";
			} 
		}
		xhr.send()
	}
		function update()
		{
		if (this.readyState == XMLHttpRequest.DONE && this.status == 200) {
			document.getElementById("output").innerHTML = this.responseText;
		}
		};
/////////////////////////////////////////////////////////////////////////////////////////////////////
function addPokemon()
	{
		var addPokemon1 = document.getElementById("pokemon1").value;
		var addPokemon2 = document.getElementById("pokemon2").value;
		var addPokemon3 = document.getElementById("pokemon3").value;
		var addPokemon4 = document.getElementById("pokemon4").value;
		var addPokemon5 = document.getElementById("pokemon5").value;
		var addPokemon6 = document.getElementById("pokemon6").value;
		console.log()

		var xhr = new XMLHttpRequest();

		xhr.open("GET", "http://localhost:3000/makeTeam?pokemon1=" + addPokemon1 + "&pokemon2=" + addPokemon2 + "&pokemon3=" + addPokemon3 + "&pokemon4=" + addPokemon4 + "&pokemon5="
		 + addPokemon5 + "&pokemon6=" + addPokemon6, true)

		xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded")
		xhr.onreadystatechange = () =>{
			console.log(xhr.responseText)
		} 
		xhr.send()

		//document.getElementById('Input').value = ''
	}
/////////////////////////////////////////////////////////////////////////////////////////////////////
		event.preventDefualt();
			
	</script>

	</body>
</html>
